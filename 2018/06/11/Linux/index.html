<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="常用系统工作命令 echo：echo[字符串|$变量]。  reboot 重启系统：由于重启计算机这种操作会涉及硬件资源的管理权限，因此默认只能使用 root 管理员来 重启  poweroff：poweroff 命令用于关闭系统，其格式为 poweroff。 该命令与 reboot 命令相同，都会涉及硬件资源的管理权限，因此默认只有 root 管理员才 可以关闭电脑 wget ：  wget [">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="http://yoursite.com/2018/06/11/Linux/index.html">
<meta property="og:site_name" content="Hu3sky">
<meta property="og:description" content="常用系统工作命令 echo：echo[字符串|$变量]。  reboot 重启系统：由于重启计算机这种操作会涉及硬件资源的管理权限，因此默认只能使用 root 管理员来 重启  poweroff：poweroff 命令用于关闭系统，其格式为 poweroff。 该命令与 reboot 命令相同，都会涉及硬件资源的管理权限，因此默认只有 root 管理员才 可以关闭电脑 wget ：  wget [">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://yoursite.com/L/2.png">
<meta property="og:image" content="http://yoursite.com/L/1.png">
<meta property="og:image" content="http://yoursite.com/L/3.png">
<meta property="og:image" content="http://yoursite.com/L/4.png">
<meta property="og:image" content="http://yoursite.com/L/5.png">
<meta property="og:image" content="http://yoursite.com/L/6.png">
<meta property="og:image" content="http://yoursite.com/L/7.png">
<meta property="og:image" content="http://yoursite.com/L/8.png">
<meta property="og:image" content="http://yoursite.com/L/9.png">
<meta property="og:image" content="http://yoursite.com/L/10.png">
<meta property="og:updated_time" content="2018-06-18T03:01:55.309Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux">
<meta name="twitter:description" content="常用系统工作命令 echo：echo[字符串|$变量]。  reboot 重启系统：由于重启计算机这种操作会涉及硬件资源的管理权限，因此默认只能使用 root 管理员来 重启  poweroff：poweroff 命令用于关闭系统，其格式为 poweroff。 该命令与 reboot 命令相同，都会涉及硬件资源的管理权限，因此默认只有 root 管理员才 可以关闭电脑 wget ：  wget [">
<meta name="twitter:image" content="http://yoursite.com/L/2.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/06/11/Linux/"/>





  <title>Linux | Hu3sky</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/Hu3sky/Hu3sky.github.io"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub"></a>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hu3sky</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">神                羅               天               征</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-bomb"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-bolt"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-chess-rook"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-chess-queen"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-apple"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/11/Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hu3sky">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/ctf/头像.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hu3sky">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Linux</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-11T13:05:42+08:00">
                2018-06-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="常用系统工作命令"><a href="#常用系统工作命令" class="headerlink" title="常用系统工作命令"></a>常用系统工作命令</h1><ol>
<li><p>echo：<br><code>echo[字符串|$变量]</code>。</p>
</li>
<li><p>reboot 重启系统：<br>由于重启计算机这种操作会涉及硬件资源的管理权限，因此默认只能使用 root 管理员来 重启</p>
</li>
<li>poweroff：<br>poweroff 命令用于关闭系统，其格式为 poweroff。 该命令与 reboot 命令相同，都会涉及硬件资源的管理权限，因此默认只有 root 管理员才 可以关闭电脑</li>
<li>wget ：</li>
</ol>
<p><code>wget [参数] 下载地址</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget 命令的参数以及作用 </span><br><span class="line">  </span><br><span class="line">-b 后台下载模式 </span><br><span class="line">-P 下载到指定目录 </span><br><span class="line">-t 最大尝试次数 </span><br><span class="line">-c 断点续传 </span><br><span class="line">-p 下载页面内所有资源，包括图片、视频等 </span><br><span class="line">-r 递归下载</span><br></pre></td></tr></table></figure>
<ol>
<li>ps<br>查看系统中的进程状态。格式 <code>ps [参数]</code>。 用来抓取与某 个指定服务进程相对应的 PID 号码</li>
</ol>
<p>ps 命令的参数以及作用</p>
<p><code>-a 显示所有进程（包括其他用户的进程） -u 用户以及其他详细信息 -x 显示没有控制终端的进程</code></p>
<ol>
<li>top<br>top 命令用于动态地监视进程活动与系统负载等信息，完全将它看作 Linux 中的”强化版的 Windows 任务管理器”。<br><img src="/L/2.png" alt="2"><br>top 命令执行结果的前5行为系统整体的统计信息，其所代表的含义如下。<br>➢ 第 1 行：系统时间、运行时间、登录终端数、系统负载（三个数值分别为 1 分钟、5 分钟、15 分钟内的平均值，数值越小意味着负载越低）。<br>➢ 第 2 行：进程总数、运行中的进程数、睡眠中的进程数、停止的进程数、僵死的进程 数。<br>➢ 第 3 行：用户占用资源百分比、系统内核占用资源百分比、改变过优先级的进程资源 百分比、空闲的资源百分比等。 </li>
</ol>
<ol>
<li><p>pidof<br>pidof 命令用于查询某个指定服务进程的 PID 值，格式为<code>pidof [参数]\[服务名称]</code>。 </p>
</li>
<li><p>kill<br>kill 命令用于终止某个指定 PID 的服务进程，格式为<code>kill [参数]\[进程 PID]</code>。</p>
</li>
<li>killall<br>killall 命令用于终止某个指定名称的服务所对应的全部进程，格式为：<code>killall [参数]\[进 程名称]</code></li>
</ol>
<h1 id="系统状态检测命令"><a href="#系统状态检测命令" class="headerlink" title="系统状态检测命令"></a>系统状态检测命令</h1><ol>
<li>ifconfig<br>用于获取网卡配置与网络状态等信息，格式为<code>ifconfig [网络设备]\[参数]</code></li>
<li>uname<br>uname 命令用于查看系统内核与系统版本等信息，格式为<code>uname [-a]</code>。<br><img src="/L/1.png" alt="1"></li>
<li>uptime<br>uptime 用于查看系统的负载信息，格式为 uptime,<br>它可以显示当前系统时间、系统已运行时间、启用终端数量以 及平均负载值等信息。平均负载值指的是系统在最近 1 分钟、5 分钟、15 分钟内的压力情 况</li>
<li><p>free<br>free 用于显示当前系统中内存的使用量信息，格式为<code>free [-h]</code>。 为了保证 Linux 系统不会因资源耗尽而突然宕机，运维人员需要时刻关注内存的使用量.</p>
</li>
<li><p>last<br>last 命令用于查看所有系统的登录记录，格式为<code>last [参数]</code>。<br>使用 last 命令可以查看本机的登录记录。但是，由于这些信息都是以日志文件的形式保 存在系统中，因此黑客可以很容易地对内容进行篡改。千万不要单纯以该命令的输出信息而 判断系统有无被恶意入侵！ </p>
</li>
<li><p>history<br><code>history</code> 命令用于显示历史执行过的命令 <code>history -c</code>清空历史纪录</p>
</li>
<li>sosreport<br>sosreport 命令用于收集系统配置及架构信息并输出诊断文档，格式为 sosreport。 当 Linux 系统出现故障需要联系技术支持人员时，大多数时候都要先使用这个命令来简 单收集系统的运行状态和服务配置信息，以便让技术支持人员能够远程解决一些小问题，亦 或让他们能提前了解某些复杂问题</li>
</ol>
<h1 id="工作目录切换命令"><a href="#工作目录切换命令" class="headerlink" title="工作目录切换命令"></a>工作目录切换命令</h1><ol>
<li><p>pwd<br>pwd 命令用于显示用户当前所处的工作目录，格式为<code>pwd [选项]</code>。 </p>
</li>
<li><p>cd<br><code>cd -</code>命令返回到上一次所处的目录，<br><code>cd..</code>切换到上级目录。<br><code>cd ~</code>命令切换到当前用户的家目录<br><code>cd ~username</code> 切换到其他用户的家目录</p>
</li>
<li>ls<br>ls 命令用于显示目录中的文件信息，格式为<code>ls [选项]\[文件]</code>。 所处的工作目录不同，当前工作目录下的文件肯定也不同。使用 ls 命令的<code>-a</code>参数看 到全部文件（包括隐藏文件），使用<code>-l</code>参数可以查看文件的属性、大小等详细信息。将这 两个参数整合之后，再执行 ls 命令即可查看当前目录中的所有文件并输出这些文件的属性<img src="/L/3.png" alt="3"></li>
<li>cat<br>cat 命令用于查看纯文本文件（内容较少的）,如果在查看文本内容时还想顺便显示行号的话，不妨在cat命令后面追加一个-n参数</li>
<li>more<br>more 命令用于查看纯文本文件（内容较多的），格式为<code>more [选项]文件</code>。 还可以使用空格键或回车 键向下翻页</li>
<li>head<br>head 命令用于查看纯文本文档的前 N 行，格式为<code>head [选项]\[文件]</code>。<br>查看前20行 <code>head -n 20 initial-setup-ks.cfg</code> </li>
<li>tail<br>tail 命令用于查看纯文本文档的后 N 行或持续刷新内容，格式为<code>tail [选项]\[文件]</code>。 </li>
<li>tr<br>tr 命令用于替换文本文件中的字符，格式为<code>tr [原始字符]\[目标字符]</code>。<br><code>cat anaconda-ks.cfg | tr [a-z] [A-Z]</code> 把某个文本英文替换为大写</li>
<li><p>wc<br>wc 命令用于统计指定文本的行数、字数、字节数，格式为<code>wc [参数] 文本</code>。 </p>
</li>
<li><p>stat<br>stat 命令用于查看文件的具体存储信息和时间等信息，格式为<code>stat 文件名称”</code> </p>
</li>
<li><p>cut<br>cut 命令用于按“列”提取文本字符，格式为“cut [参数] 文本”。<br>在Linux系统中，如何准确地提取出最想要的数据，这也是我们应该重点学习的内容。一般 而言，按基于“行”的方式来提取数据是比较简单的，只需要设置好要搜索的关键词即可。但是 如果按列搜索，不仅要使用-f 参数来设置需要看的列数，还需要使用-d 参数来设置间隔符号。 passwd在保存用户数据信息时，用户信息的每一项值之间是采用冒号来间隔的，接下来我们使用 下述命令尝试提取出 passwd 文件中的用户名信息，即提取以冒号（：）为间隔符号的第一列内容<br><img src="/L/4.png" alt="4"></p>
</li>
</ol>
<ol>
<li>diff<br>diff 命令用于比较多个文本文件的差异，格式为“diff [参数] 文件”。<br>在使用 diff 命令时，不仅可以使用–brief 参数来确认两个文件是否不同，还可以使用-c 参 数来详细比较出多个文件的差异之处，这绝对是判断文件是否被篡改的有力神器。</li>
</ol>
<h1 id="文件目录管理命令"><a href="#文件目录管理命令" class="headerlink" title="文件目录管理命令"></a>文件目录管理命令</h1><ol>
<li>touch<br>touch 命令用于创建空白文件或设置文件的时间，格式为<code>touch [选项]\[文件]</code>。<br>touch 命令的参数及其作用<br><code>-a 仅修改“读取时间”（atime） -m 仅修改“修改时间”（mtime） -d 同时修改 atime 与 mtime</code><br>接下来，我们先使用ls 命令查看一个文件的修改时间，然后修改这个文件，最后再通过touch 命令把修改后的文件时间设置成修改之前的时间（很多黑客就是这样做的呢）： </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxprobe ~]# ls -l anaconda-ks.cfg </span><br><span class="line"> -rw-------. 1 root root 1213 May  4 15:44 anaconda-ks.cfg</span><br><span class="line">[root@linuxprobe ~]# echo &quot;Visit the LinuxProbe.com to learn linux skills&quot; &gt;&gt;  anaconda-ks.cfg [root@linuxprobe ~]# ls -l anaconda-ks.cfg -rw-------. 1 root root 1260 Aug  2 01:26 anaconda-ks.cfg</span><br><span class="line">[root@linuxprobe ~]# touch -d &quot;2017-05-04 15:44&quot; anaconda-ks.cfg </span><br><span class="line">[root@linuxprobe ~]# ls -l anaconda-ks.cfg  -rw-------. 1 root root 1260 May  4 15:44 anaconda-ks.cfg</span><br></pre></td></tr></table></figure>
<ol>
<li><p>mkdir<br>创建空白目录<br>-p 递归迭代参数，从而自动化创建有嵌套关系的目录<br><code>mkdir -p a/b/c/d/e</code></p>
</li>
<li><p>cp<br>cp 命令用于复制文件或目录，格式为<code>cp [选项] 源文件 目标文件</code>。<br>-p 保留原始文件的属性<br>-d 若对象为“链接文件”，则保留该“链接文件”的属性<br>-r 递归持续复制（用于目录）<br>-i 若目标文件存在则询问是否覆盖<br>-a 相当于-pdr（p、d、r 为上述参数） </p>
</li>
<li><p>mv<br>rm 命令用于删除文件或目录，格式为 <code>rm [选项] 文件</code> 。</p>
</li>
<li><p>file<br>file 命令用于查看文件的类型，格式为<code>file 文件名</code> .</p>
</li>
</ol>
<h1 id="打包压缩与搜索命令"><a href="#打包压缩与搜索命令" class="headerlink" title="打包压缩与搜索命令"></a>打包压缩与搜索命令</h1><ol>
<li>tar</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-c 创建压缩文件 </span><br><span class="line">-x 解开压缩文件 </span><br><span class="line">-t 查看压缩包内有哪些文件 </span><br><span class="line">-z 用 Gzip 压缩或解压 </span><br><span class="line">-j 用 bzip2 压缩或解压 </span><br><span class="line">-v 显示压缩或解压的过程 </span><br><span class="line">-f 目标文件名 </span><br><span class="line">-p 保留原始的权限与属性 </span><br><span class="line">-P 使用绝对路径来压缩 </span><br><span class="line">-C 指定解压到的目录</span><br></pre></td></tr></table></figure>
<p>通常 压缩  <code>tar -czvf etc.tar.gz /etc</code><br>解压缩 <code>tar -zvxf etc.tar.ge /etc</code> 解压/解压缩到 /etc目录下</p>
<ol>
<li>grep<br>grep 命令用于在文本中执行关键词搜索，并显示匹配的结果，格式为“grep [选项] [文件]”。 grep 命令的参数及其作用如表 2-15 所示。 </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-b 将可执行文件（binary）当作文本文件（text）来搜索 </span><br><span class="line">-c 仅显示找到的行数 </span><br><span class="line">-i 忽略大小写 </span><br><span class="line">-n 显示行号 </span><br><span class="line">-v 反向选择—仅列出没有“关键词”的行</span><br></pre></td></tr></table></figure>
<ol>
<li>find<br>find 命令用于按照指定条件来查找文件，格式为“find [查找路径] 寻找条件 操作”。 “Linux 系统中的一切都是文件”，接下来就要见证这句话的分量了。 在 Linux 系统中，搜索工作一般都是通过 find 命令来完成的，它可以使用不同的文件特性作 为寻找条件（如文件名、大小、修改时间、权限等信息），一旦匹配成功则默认将信息显示到 屏幕上。find 命令的参数以及作用如表 2-16 所示。<br>表 2-16 find 命令中的参数以及作用 </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-name 匹配名称 </span><br><span class="line">-perm 匹配权限（mode 为完全匹配，-mode 为包含即可） </span><br><span class="line">-user  匹配所有者 </span><br><span class="line">-group 匹配所有组 </span><br><span class="line">-mtime -n +n 匹配修改内容的时间（-n 指 n 天以内，+n 指 n 天以前） </span><br><span class="line">-atime -n +n 匹配访问文件的时间（-n 指 n 天以内，+n 指 n 天以前） </span><br><span class="line">-ctime -n +n 匹配修改文件权限的时间（-n 指 n 天以内，+n 指 n 天以前） </span><br><span class="line">-nouser 匹配无所有者的文件 </span><br><span class="line">-nogroup 匹配无所有组的文件 </span><br><span class="line">-newer f1 !f2 匹配比文件 f1 新但比 f2 旧的文件 </span><br><span class="line">--type b/d/c/p/l/f </span><br><span class="line">匹配文件类型（后面的字母参数依次表示块设备、目录、字符设备、管 道、链接文件、文本文件） </span><br><span class="line">-size </span><br><span class="line">匹配文件的大小（+50KB 为查找超过 50KB 的文件，而-50KB 为查找小 于 50KB 的文件） </span><br><span class="line">-prune 忽略某个目录 </span><br><span class="line">-exec …… &#123;&#125;\; 后面可跟用于进一步处理搜索结果的命令（下文会有演示）</span><br></pre></td></tr></table></figure>
<p>这里需要重点讲解一下-exec 参数重要的作用。这个参数用于把 find 命令搜索到的结果交 由紧随其后的命令作进一步处理，它十分类似于第 3 章将要讲解的管道符技术，并且由于 find 命令对参数的特殊要求，因此虽然 exec 是长格式形式，但依然只需要一个减号（-）。 根据文件系统层次标准（Filesystem Hierarchy Standard）协议，Linux 系统中的配置文件 会保存到/etc 目录中（详见第 6 章）。如果要想获取到该目录中所有以 host 开头的文件列表， 可以执行如下命令： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxprobe ~]# find /etc -name &quot;host\*&quot; -print /etc/avahi/hosts /etc/host.conf /etc/hosts /etc/hosts.allow /etc/hosts.deny /etc/selinux/targeted/modules/active/modules/hostname.pp /etc/hostname</span><br></pre></td></tr></table></figure>
<p>如果要在整个系统中搜索权限中包括 SUID 权限的所有文件（详见第 5 章），只需使用4000 即可： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxprobe ~]# find / -perm -4000 -print /usr/bin/fusermount /usr/bin/su /usr/bin/umount /usr/bin/passwd /usr/sbin/userhelper /usr/sbin/usernetctl</span><br></pre></td></tr></table></figure>
<p>Linux 5 种进程名称和含义<br>➢  R（运行）进程正在运行或在运行队列中等待。<br>➢  S（中断）进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该状态。</p>
<p>➢  D（不可中断）进程不响应系统异步信号，即便用 kill 命令也不能将其中断。<br>➢  Z（僵死）进程已经终止，但进程描述符依然存在, 直到父进程调用 wait4()系统函数<br>后将进程释放。<br>➢  T（停止）进程收到停止信号后停止运行。</p>
<h1 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h1><p>对于输入重定向来讲，用到的符号及其作用如表 3-1 所示。 </p>
<p>表 3-1 输入重定向中用到的符号及其作用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">命令 &lt; 文件                  将文件作为命令的标准输入 </span><br><span class="line">命令 &lt;&lt; 分界符               从标准输入中读入，直到遇见分界符才停止 </span><br><span class="line">命令 &lt; 文件 1 &gt; 文件 2       将文件 1 作为命令的标准输入并将标准输出到文件 2</span><br></pre></td></tr></table></figure>
<p>对于输出重定向来讲，用到的符号及其作用如表 3-2 所示。<br>表 3-2 输出重定向中用到的符号及其作用 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">命令 &gt; 文件 将标准输出重定向到一个文件中（清空原有文件的数据） </span><br><span class="line">命令 2&gt; 文件 将错误输出重定向到一个文件中（清空原有文件的数据） </span><br><span class="line">命令 &gt;&gt; 文件 将标准输出重定向到一个文件中（追加到原有内容的后面） </span><br><span class="line">命令 2&gt;&gt; 文件 将错误输出重定向到一个文件中（追加到原有内容的后面） </span><br><span class="line">命令 &gt;&gt; 文件 2&gt;&amp;1  或 命令 &amp;&gt;&gt; 文件 将标准输出与错误输出共同写入到文件中（追加到原有内容 的后面）</span><br></pre></td></tr></table></figure>
<p>正确信息：<br><img src="/L/5.png" alt="5"><br>错误信息:<br><img src="/L/6.png" alt="6"></p>
<h1 id="管道命令符"><a href="#管道命令符" class="headerlink" title="管道命令符"></a>管道命令符</h1><p><code>|</code> 即为管道命令符：<br>把前一个命令原本要输出到屏幕的标准正常数据当作是后一个命 令的标准输入。<br>例子：<br><code>grep &quot;/sbin/nologin&quot; /etc/passwd | wc -l</code> 会得到wc前一个命令的结果。</p>
<h1 id="命令行的通配符"><a href="#命令行的通配符" class="headerlink" title="命令行的通配符"></a>命令行的通配符</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">\* 代表匹配零个或多个字符</span><br><span class="line">?   代表匹配单个字符</span><br><span class="line">[0-9] 匹配0-9之间的单个数字的字符</span><br><span class="line">[abc]  则是代表匹配 a、b、c 三个字符中的任意 一个字符</span><br></pre></td></tr></table></figure>
<p><code>ls -l /dev/sda*</code> 目录下全部以sda开头的文件<br>如果只想查看文件名为 sda 开头，但是后面还紧跟其他某一个字符的文件的相关信息<br><code>ls -l /dev/sda?</code></p>
<h1 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Linux 系统中最重要的 10 个环境变量 </span><br><span class="line">  HOME 用户的主目录（即家目录） </span><br><span class="line">  SHELL 用户在使用的 Shell 解释器名称 </span><br><span class="line">  HISTSIZE 输出的历史命令记录条数 </span><br><span class="line">  HISTFILESIZE 保存的历史命令记录条数 </span><br><span class="line">  MAIL 邮件保存路径 </span><br><span class="line">  LANG 系统语言、语系名称 </span><br><span class="line">  RANDOM 生成一个随机数字 </span><br><span class="line">  PS1        Bash解释器的提示符 </span><br><span class="line">  PATH 定义解释器搜索用户执行命令的路径 </span><br><span class="line">  EDITOR 用户默认的文本编辑器</span><br></pre></td></tr></table></figure>
<p>我们完全可以自 行创建变量，来满足工作需求。例如设置一个名称为 WORKDIR 的变量，方便用户更轻松地 进入一个层次较深的目录： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxprobe ~]# mkdir /home/workdir </span><br><span class="line">[root@linuxprobe ~]# WORKDIR=/home/workdir </span><br><span class="line">[root@linuxprobe ~]# cd $WORKDIR  </span><br><span class="line">[root@linuxprobe workdir]# pwd /home/workdir</span><br></pre></td></tr></table></figure>
<p>但是，这样的变量不具有全局性，作用范围也有限，默认情况下不能被其他用户使用。 如果工作需要，可以使用 export 命令将其提升为全局变量，这样其他用户也就可以使用它了： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxprobe workdir]# su linuxprobe Last login: Fri Mar 20 20:52:10 CST 2017 on pts/0 </span><br><span class="line">[linuxprobe@linuxprobe ~]$ cd $WORKDIR </span><br><span class="line">[linuxprobe@linuxprobe ~]$ echo $WORKDIR </span><br><span class="line">[linuxprobe@linuxprobe ~]$ exit </span><br><span class="line">[root@linuxprobe ~]# export WORKDIR </span><br><span class="line">[root@linuxprobe ~]# su linuxprobe Last login: Fri Mar 20 21:52:10 CST 2017 on pts/0 </span><br><span class="line">[linuxprobe@linuxprobe ~]$ cd $WORKDIR </span><br><span class="line">[linuxprobe@linuxprobe workdir]$ pwd /home/workdir</span><br></pre></td></tr></table></figure>
<h1 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h1><p>末行模式中可用的命令 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">:w 保存</span><br><span class="line">:q 退出</span><br><span class="line">:q! 强制退出（放弃对文档的修改内容） </span><br><span class="line">:wq! 强制保存退出 </span><br><span class="line">:set nu 显示行号 </span><br><span class="line">:set nonu 不显示行号 </span><br><span class="line">:命令 执行该命令 </span><br><span class="line">:整数 跳转到该行 </span><br><span class="line">:s/one/two 将当前光标所在行的第一个 one 替换成 two </span><br><span class="line">:s/one/two/g 将当前光标所在行的所有 one 替换成 two </span><br><span class="line">:%s/one/two/g 将全文中的所有 one 替换成 two ?字符串 在文本中从下至上搜索该字符串 /字符串 在文本中从上至下搜索该字符串</span><br></pre></td></tr></table></figure>
<h1 id="判断用户参数"><a href="#判断用户参数" class="headerlink" title="判断用户参数"></a>判断用户参数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-d 测试文件是否为目录类型 </span><br><span class="line">-e 测试文件是否存在 </span><br><span class="line">-f 判断是否为一般文件 </span><br><span class="line">-r 测试当前用户是否有权限读取 </span><br><span class="line">-w 测试当前用户是否有权限写入 </span><br><span class="line">-x 测试当前用户是否有权限执行</span><br></pre></td></tr></table></figure>
<p>下面使用文件测试语句来判断/etc/fstab 是否为一个目录类型的文件，然后通过 Shell 解释 器的内设$?变量显示上一条命令执行后的返回值。如果返回值为 0，则目录存在；如果返回值 为非零的值，则意味着目录不存在：<br><code>[ -d /etc/fstab ]</code>,<code>echo $?</code><br>[]的两边必须有空格<img src="/L/7.png" alt="7"><br>$?变量，作用是显示上一次命令的执行返回值</p>
<p>整数比较运算符仅是对数字的操作，不能将数字与字符串、文件等内容一起操作，而且 不能想当然地使用日常生活中的等号、大于号、小于号等来判断。因为等号与赋值命令符冲 突，大于号和小于号分别与输出重定向命令符和输入重定向命令符冲突。因此一定要使用规 范的整数比较运算符来进行操作,可用的整数比较运算符 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-eq 是否等于 </span><br><span class="line">-ne 是否不等于 </span><br><span class="line">-gt 是否大于 </span><br><span class="line">-lt 是否小于 </span><br><span class="line">-le 是否等于或小于 </span><br><span class="line">-ge 是否大于或等于</span><br></pre></td></tr></table></figure>
<h1 id="shell脚本"><a href="#shell脚本" class="headerlink" title="shell脚本"></a>shell脚本</h1><p>第一个简单的shell脚本,判断输入的ip是否上线</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash </span><br><span class="line">ping -c 3 -i 0.2 -W 3 $1 &amp;&gt; /dev/null </span><br><span class="line">if [ $? -eq 0 ] </span><br><span class="line">	then </span><br><span class="line">		echo &quot;Host $1 is On-line.&quot; </span><br><span class="line">else </span><br><span class="line">	echo &quot;Host $1 is Off-line.&quot; </span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<p>/dev/null 是一个被称作 Linux 黑洞的文件，把输出信息重定向到这个文件等 同于删除数据（类似于没有回收功能的垃圾箱），可以让用户的屏幕窗口保持简洁</p>
<h2 id="多个if循环："><a href="#多个if循环：" class="headerlink" title="多个if循环："></a>多个if循环：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#! /bin/bash</span><br><span class="line"># hu3sky&apos;s first shell</span><br><span class="line">read -p &quot;Enter your grade: &quot; GRADE</span><br><span class="line"></span><br><span class="line">if [ $GRADE -ge 100 ] || [ $GRADE -le 0 ];</span><br><span class="line">	then</span><br><span class="line">		echo &quot;ERROR!&quot;</span><br><span class="line">elif [ $GRADE -ge 85 ] &amp;&amp; [ $GRADE -le 100 ] ; </span><br><span class="line">	then </span><br><span class="line">		echo &quot;$GRADE is Excellent&quot; </span><br><span class="line">elif [ $GRADE -ge 70 ] &amp;&amp; [ $GRADE -le 84 ] ; </span><br><span class="line">	then </span><br><span class="line">		echo &quot;$GRADE is Pass&quot; </span><br><span class="line">else </span><br><span class="line">	echo &quot;$GRADE is Fail&quot;  </span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<p>read 是用来读取用户输入信息的命令， 能够把接收到的用户输入信息赋值给后面的指定变量，-p 参数用于向用户显示一定的提示信息<br><img src="/L/8.png" alt="8"></p>
<h2 id="批量判断ip是否ping通（if）"><a href="#批量判断ip是否ping通（if）" class="headerlink" title="批量判断ip是否ping通（if）"></a>批量判断ip是否ping通（if）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash </span><br><span class="line">HLIST=$(cat ip.txt) </span><br><span class="line">for IP in $HLIST </span><br><span class="line">do ping -c 3 -i 0.2 -W 3 $IP &amp;&gt; /dev/null </span><br><span class="line">if [ $? -eq 0 ] ; </span><br><span class="line">then </span><br><span class="line">echo &quot;Host $IP is On-line.&quot; </span><br><span class="line">else </span><br><span class="line">echo &quot;Host $IP is Off-line.&quot; </span><br><span class="line">fi </span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p><img src="/L/9.png" alt="9"></p>
<h2 id="case语句"><a href="#case语句" class="headerlink" title="case语句"></a>case语句</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash </span><br><span class="line">read -p &quot;请输入一个字符，并按 Enter 键确认：&quot; KEY </span><br><span class="line">case &quot;$KEY&quot; in </span><br><span class="line">[a-z]|[A-Z])</span><br><span class="line">	 echo &quot;您输入的是 字母。&quot; ;; </span><br><span class="line">[0-9]) </span><br><span class="line">	 echo &quot;您输入的是 数字。&quot; ;; </span><br><span class="line">*) </span><br><span class="line">	 echo &quot;您输入的是 空格、功能键或其他控制字符。&quot; </span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<h1 id="计划任务服务程序"><a href="#计划任务服务程序" class="headerlink" title="计划任务服务程序"></a>计划任务服务程序</h1><p>一次性计划任务只执行一次，一般用于满足临时的工作需求。我们可以用 at 命令实现这种功能，只需要写成“at 时间”的形式就可以。如果想要查看已设置好但还未执 行的一次性计划任务，可以使用“at -l”命令；要想将其删除，可以用“atrm 任务序号”。在 使用 at 命令来设置一次性计划任务时，默认采用的是交互式方法。例如，使用下述命令将系 统设置为在今晚 23:30 分自动重启网站服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@hu3sky ~]# at 23:30 </span><br><span class="line">at &gt; systemctl restart httpd </span><br><span class="line">at &gt; 此处请同时按下 Ctrl + D 组合键来结束编写计划任务 </span><br><span class="line">job 3 at Mon Apr 27 23:30:00 2017 </span><br><span class="line">[root@hu3sky ~]# at -l </span><br><span class="line">3 Mon Apr 27 23:30:00 2017 a root</span><br></pre></td></tr></table></figure>
<p>或者<br><code>echo &quot;systemctl restart httpd&quot; | at 23:30</code></p>
<p>如果我们希望 Linux 系统能够周期性地、有规律地执行某些具体的任务，那么 Linux 系统 中默认启用的 crond 服务简直再适合不过了。创建、编辑计划任务的命令为“crontab -e”，查看 当前计划任务的命令为“crontab -l”，删除某条计划任务的命令为“crontab -r”。另外，如果您是 以管理员的身份登录的系统，还可以在 crontab 命令中加上-u参数来编辑他人的计划任务。 在正式部署计划任务前，请先跟刘遄老师念一下口诀“分、时、日、月、星期 命令”。 这是使用 crond 服务设置任务的参数格式（其格式见表 4-6）。需要注意的是，如果有些字段 没有设置，则需要使用星号（*）占位<br><img src="/L/10.png" alt="10"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">分 取值为 0～59 的整数 </span><br><span class="line">时 取值为 0～23 的任意整数 </span><br><span class="line">日 取值为 1～31 的任意整数 </span><br><span class="line">月 取值为 1～12 的任意整数 </span><br><span class="line">星期 取值为 0～7 的任意整数</span><br></pre></td></tr></table></figure>
<p>其中 0 与 7 均为星期日 命令 要执行的命令或程序脚本.<br>假设在每周一、三、五的凌晨 3 点 25 分，都需要使用 tar 命令把某个网站的数据目录进 行打包处理，使其作为一个备份文件。我们可以使用 crontab -e 命令来创建计划任务。为自己 创建计划任务无需使用-u 参数，具体的实现效果的参数如 crontab -l</p>
<h1 id="用户身份与能力"><a href="#用户身份与能力" class="headerlink" title="用户身份与能力"></a>用户身份与能力</h1><h2 id="useradd-命令"><a href="#useradd-命令" class="headerlink" title="useradd 命令"></a>useradd 命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-d 指定用户的家目录（默认为/home/username） </span><br><span class="line">-e 账户的到期时间，格式为 YYYY-MM-DD. </span><br><span class="line">-u 指定该用户的默认 UID </span><br><span class="line">-g 指定一个初始的用户基本组（必须已存在） </span><br><span class="line">-G 指定一个或多个扩展用户组 </span><br><span class="line">-N 不创建与用户同名的基本用户组 </span><br><span class="line">-s 指定该用户的默认 Shell 解释器</span><br></pre></td></tr></table></figure>
<h2 id="groupadd-命令"><a href="#groupadd-命令" class="headerlink" title="groupadd 命令"></a>groupadd 命令</h2><p>创建用户组的步骤非常简单，例如使 用如下命令创建一个用户组 hu3sky<br><code>groupadd hu3sky</code></p>
<h2 id="passwd"><a href="#passwd" class="headerlink" title="passwd"></a>passwd</h2><p>普通用户只能使用 passwd 命令修改自身的系统密码，而 root 管理员则有权限修改其他 所有人的密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-l 锁定用户，禁止其登录 </span><br><span class="line">-u 解除锁定，允许用户登录 </span><br><span class="line">--stdin  允许通过标准输入修改用户密码，如 echo &quot;NewPassWord&quot; | passwd --stdin Username </span><br><span class="line">-d 使该用户可用空密码登录系统 </span><br><span class="line">-e 强制用户在下次登录时修改密码 </span><br><span class="line">-S 显示用户的密码是否被锁定，以及密码所采用的加密算法名称</span><br></pre></td></tr></table></figure>
<h2 id="userdel"><a href="#userdel" class="headerlink" title="userdel"></a>userdel</h2><p>删除用户 格式为 <code>userdel [选项] 用户名</code>。<br><code>-f 强制删除用户 -r 同时删除用户及用户家目录</code></p>
<h1 id="文件隐藏属性"><a href="#文件隐藏属性" class="headerlink" title="文件隐藏属性"></a>文件隐藏属性</h1><h2 id="chattr"><a href="#chattr" class="headerlink" title="chattr"></a>chattr</h2><p>chattr 命令用于设置文件的隐藏权限，格式为 <code>chattr [参数] 文件</code>。。如果想要把某个隐藏 功能添加到文件上，则需要在命令后面追加<code>+参数</code>，如果想要把某个隐藏功能移出文件， 则需要追加<code>-参数</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">i 无法对文件进行修改；若对目录设置了该参数，则仅能修改其中的子文件内容 而不能新建或删除文件 </span><br><span class="line">a 仅允许补充（追加）内容，无法覆盖/删除内容（Append Only） </span><br><span class="line">S 文件内容在变更后立即同步到硬盘（sync） </span><br><span class="line">s 彻底从硬盘中删除，不可恢复（用 0 填充原文件所在硬盘区域） </span><br><span class="line">A 不再修改这个文件或目录的最后访问时间（atime） </span><br><span class="line"></span><br><span class="line">b 不再修改文件或目录的存取时间 </span><br><span class="line">D 检查压缩文件中的错误 </span><br><span class="line">d 使用 dump 命令备份时忽略本文件/目录 </span><br><span class="line">c 默认将文件或目录进行压缩 </span><br><span class="line">u 当删除该文件后依然保留其在硬盘中的数据，方便日后恢复 </span><br><span class="line">t 让文件系统支持尾部合并（tail-merging） </span><br><span class="line">X 可以直接访问压缩文件中的内容</span><br></pre></td></tr></table></figure>
<h2 id="lsattr"><a href="#lsattr" class="headerlink" title="lsattr"></a>lsattr</h2><p>查看隐藏权限</p>
<h2 id="su"><a href="#su" class="headerlink" title="su"></a>su</h2><p>su，切换用户 <code>su - 用户</code> ,su 命令与用户名之间有一个减号（-），这意味着完全切 换到新的用户，即把环境变量信息也变更为新用户的相应信息，而不是保留原始的信息。</p>
<h1 id="存储与磁盘"><a href="#存储与磁盘" class="headerlink" title="存储与磁盘"></a>存储与磁盘</h1><h2 id="常见的硬件设备及其文件名称"><a href="#常见的硬件设备及其文件名称" class="headerlink" title="常见的硬件设备及其文件名称"></a>常见的硬件设备及其文件名称</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">	设备名称       文件名称</span><br><span class="line">IDE 设备        /dev/hd[a-d] </span><br><span class="line">SCSI/SATA/U 盘  /dev/sd[a-p] </span><br><span class="line">软驱            /dev/fd[0-1] </span><br><span class="line">打印机          /dev/lp[0-15] </span><br><span class="line">光驱            /dev/cdrom </span><br><span class="line">鼠标            /dev/mouse </span><br><span class="line">磁带机          /dev/st0 或/dev/ht0</span><br></pre></td></tr></table></figure>
<p>/dev/sda，a，并不是由插槽决定的，而是由系统内核的识别顺序来决定的。<br>sda3 只能表示是编号为 3 的分区，而不能判断 sda 设备上 已经存在了 3 个分区</p>
<h1 id="挂载硬件设备"><a href="#挂载硬件设备" class="headerlink" title="挂载硬件设备"></a>挂载硬件设备</h1><h2 id="mount"><a href="#mount" class="headerlink" title="mount"></a>mount</h2><p>mount 命令用于挂载文件系统，格式为<code>mount 文件系统 挂载目录</code>。<br><code>-a 挂载所有在/etc/fstab 中定义的文件系统</code><br>例如，要把设备/dev/sda1 挂载到/root/桌面，只需要在 mount 命令中填写设备与挂载目录 参数就行，系统会自动去判断要挂载文件的类型，因此只需要执行下述命令即可： </p>
<p><code>[root@hu3sky ~]# mount /dev/sda1 /root/桌面</code></p>
<h2 id="umount"><a href="#umount" class="headerlink" title="umount"></a>umount</h2><p>umount 命令用于撤销已经挂载的设备文件。<br><code>[root@hu3sky ~]# umount /dev/sda1</code></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/06/06/超级玛丽/" rel="next" title="超级玛丽靶机渗透测试笔记">
                <i class="fa fa-chevron-left"></i> 超级玛丽靶机渗透测试笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/ctf/头像.png"
                alt="Hu3sky" />
            
              <p class="site-author-name" itemprop="name">Hu3sky</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#常用系统工作命令"><span class="nav-number">1.</span> <span class="nav-text">常用系统工作命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#系统状态检测命令"><span class="nav-number">2.</span> <span class="nav-text">系统状态检测命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#工作目录切换命令"><span class="nav-number">3.</span> <span class="nav-text">工作目录切换命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件目录管理命令"><span class="nav-number">4.</span> <span class="nav-text">文件目录管理命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#打包压缩与搜索命令"><span class="nav-number">5.</span> <span class="nav-text">打包压缩与搜索命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#输入输出重定向"><span class="nav-number">6.</span> <span class="nav-text">输入输出重定向</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#管道命令符"><span class="nav-number">7.</span> <span class="nav-text">管道命令符</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#命令行的通配符"><span class="nav-number">8.</span> <span class="nav-text">命令行的通配符</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#环境变量"><span class="nav-number">9.</span> <span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#vim"><span class="nav-number">10.</span> <span class="nav-text">vim</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#判断用户参数"><span class="nav-number">11.</span> <span class="nav-text">判断用户参数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#shell脚本"><span class="nav-number">12.</span> <span class="nav-text">shell脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#多个if循环："><span class="nav-number">12.1.</span> <span class="nav-text">多个if循环：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#批量判断ip是否ping通（if）"><span class="nav-number">12.2.</span> <span class="nav-text">批量判断ip是否ping通（if）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#case语句"><span class="nav-number">12.3.</span> <span class="nav-text">case语句</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#计划任务服务程序"><span class="nav-number">13.</span> <span class="nav-text">计划任务服务程序</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#用户身份与能力"><span class="nav-number">14.</span> <span class="nav-text">用户身份与能力</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#useradd-命令"><span class="nav-number">14.1.</span> <span class="nav-text">useradd 命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#groupadd-命令"><span class="nav-number">14.2.</span> <span class="nav-text">groupadd 命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#passwd"><span class="nav-number">14.3.</span> <span class="nav-text">passwd</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#userdel"><span class="nav-number">14.4.</span> <span class="nav-text">userdel</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件隐藏属性"><span class="nav-number">15.</span> <span class="nav-text">文件隐藏属性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#chattr"><span class="nav-number">15.1.</span> <span class="nav-text">chattr</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lsattr"><span class="nav-number">15.2.</span> <span class="nav-text">lsattr</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#su"><span class="nav-number">15.3.</span> <span class="nav-text">su</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#存储与磁盘"><span class="nav-number">16.</span> <span class="nav-text">存储与磁盘</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#常见的硬件设备及其文件名称"><span class="nav-number">16.1.</span> <span class="nav-text">常见的硬件设备及其文件名称</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#挂载硬件设备"><span class="nav-number">17.</span> <span class="nav-text">挂载硬件设备</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#mount"><span class="nav-number">17.1.</span> <span class="nav-text">mount</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#umount"><span class="nav-number">17.2.</span> <span class="nav-text">umount</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div>
  友情链接: 
 <div>博客系： 
  <a class="theme-link"  href="http://karmaof.me"> KarmA's blog </a><span>&nbsp;&nbsp;</span>
  <a class="theme-link"  href="https://ratten3anger.github.io"> ratten3anger's blog </a><span>&nbsp;&nbsp;</span>
 </div>
 
</div>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hu3sky</span>

  
</div>

<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>
    
    <script type="text/javascript" color ="30,50,90" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
    
    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  


</body>
</html>
<script type="text/javascript" src="/js/src/love.js"></script>